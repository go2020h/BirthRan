<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>バスラン</title>
  <link rel="icon" href="img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/calendar.css">
  <link rel="stylesheet" href="css/ranking.css">
  <link rel="stylesheet" href="css/override.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <!-- Supabaseクライアントライブラリ -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    // Supabaseクライアントライブラリをグローバル変数として定義
    const SUPABASE_URL = 'https://cdpthzwwczpwlypadhbz.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkcHRoend3Y3pwd2x5cGFkaGJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3ODc2NzYsImV4cCI6MjA1ODM2MzY3Nn0.woIzlcCR94Niz-WelVqmweSPFqUlTmONrqxTrXl4_z0';
    let supabase;
  </script>
  <style>
    /* バブルキャンバス */
    #bubble-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3; /* z-indexを上げて前面に表示 */
      display: block;
    }
    
    /* ヒーローセクション */
    #hero-section {
      position: relative;
      z-index: 0;
      margin-top: 0;
      margin-bottom: 0; /* 下のマージンを削除 */
      padding: 0;
      text-align: center;
      background-color: #16152e;
      overflow: hidden;
      height: auto; /* 明示的な高さを設定 */
      min-height: 200px;
      font-size: 0; /* テキストのサイズを0に設定 */
      line-height: 0; /* 行間を0に設定 */
      display: block;
    }
    
    /* ヒーローセクションの画像 */
    .hero-image {
      width: 100%;
      max-width: 1200px;
      height: auto;
      display: block;
      margin: 0 auto;
    }
    
    #hero-section img {
      display: block;
      margin-bottom: 0;
    }
    
    /* コンテンツセクション */
    #con-wrap {
      position: relative;
      z-index: 5;
      overflow: hidden;
    }
    
    /* キャッチコピー */
    .catchcopy-wrapper {
      background: linear-gradient(135deg, #0a1525 0%, #1a3a6c 100%);
      padding: 40px 0;
      width: 100vw;
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
      text-align: center;
      box-sizing: border-box;
      overflow: hidden;
    }
    
    .catchcopy-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
      background: none;
      border: none;
      box-shadow: none;
    }
    
    .catchcopy-content {
      position: relative;
      background: none;
      border: none;
      box-shadow: none;
      padding: 0;
    }
    
    .catchcopy-wrapper h2 {
      color: #d4af37;
      font-size: 28px;
      margin: 15px 0;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
      letter-spacing: 1px;
      font-weight: bold;
    }
    
    .catchcopy-wrapper h3 {
      color: #ffffff;
      font-size: 22px;
      margin: 20px 0;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
      letter-spacing: 0.5px;
    }
    
    /* バブルスタイル */
    .bubble {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
    }
    
    @keyframes float {
      0% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-20px);
      }
      100% {
        transform: translateY(0);
      }
    }
    
    /* 番組情報 */
    .program-info {
      background-color: #f8f8f8;
      padding: 25px;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      float: none;
      clear: both;
    }
    
    .program-info h2 {
      color: #0066cc;
      border-bottom: 2px solid #0066cc;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }
    
    /* 週間のハイライト */
    .weekly-highlight {
      margin-bottom: 40px;
    }
    
    .weekly-highlight h2 {
      color: #0066cc;
      border-bottom: 2px solid #0066cc;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }
    
    /* ゲスト */
    .guest {
      flex: 1;
      min-width: 300px;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .guest h3 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .guest img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      overflow: hidden;
      background-color: #f0f0f0;
    }
    
    .guest p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    
    /* ランキング */
    .ranking {
      flex: 1;
      min-width: 300px;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .ranking h3 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .ranking ol {
      padding-left: 25px;
      margin-bottom: 20px;
    }
    
    .ranking li {
      margin-bottom: 10px;
    }
    
    .ranking strong {
      font-weight: bold;
    }
    
    .ranking p {
      margin: 5px 0 0 0;
      font-size: 14px;
      color: #666;
    }
    
    /* 愛あるゲスト */
    .love-guest-section {
      margin-bottom: 40px;
    }
    
    .love-guest-section h2 {
      margin-bottom: 20px;
    }
    
    .love-guest-content {
      padding: 20px;
      background-color: #f8f8f8;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .love-guest-content h3 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .love-guest-content p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    
    .love-guest-content ol {
      padding-left: 25px;
      margin-bottom: 20px;
    }
    
    .love-guest-content li {
      margin-bottom: 10px;
    }
    
    .love-guest-content strong {
      font-weight: bold;
    }
    
    /* プレゼント */
    .present-section {
      margin-bottom: 40px;
    }
    
    .present-section h2 {
      margin-bottom: 20px;
    }
    
    .present-content {
      padding: 20px;
      background-color: #f8f8f8;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .present-content h3 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .present-content p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    
    /* メッセージボタン */
    .message-button-section {
      margin-bottom: 50px;
      text-align: center;
      padding: 30px;
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .message-text {
      color: #333333;
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 25px;
      text-align: center;
    }
    
    .message-button {
      display: inline-block;
      background-color: #ff4081;
      color: #ffffff;
      font-size: 18px;
      font-weight: bold;
      padding: 15px 30px;
      border-radius: 50px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .message-button:hover {
      background-color: #ff5a92;
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }
    

    

    

    
    /* カレンダー */
    .calendar-wrapper {
      background: linear-gradient(to bottom, #e0f7fa 0%, #f0f8ff 100%);
      padding: 60px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      position: relative;
      overflow: hidden;
    }
    
    .calendar-wrapper::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, #e0f7fa 0%, #f0f8ff 100%);
      pointer-events: none;
    }
    
    .calendar-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
      position: relative;
      z-index: 2;
      color: rgba(255, 255, 255, 0.9);
    }
    
    .calendar-content {
      background: linear-gradient(to bottom, #f5f7fa 0%, #e2e7ed 100%);
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.1);
    }
    
    .calendar-content h2 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 30px;
      font-weight: bold;
      font-size: 32px;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      letter-spacing: 1px;
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 0 10px;
    }
    
    .calendar-header h3 {
      color: #2c3e50;
      font-size: 24px;
      font-weight: bold;
    }
    
    .calendar-nav-btn {
      background: rgba(52, 152, 219, 0.2);
      color: #2c3e50;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .calendar-nav-btn:hover {
      background: rgba(52, 152, 219, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
      font-weight: bold;
      margin-bottom: 10px;
      color: #34495e;
    }
    
    .weekdays div:first-child {
      color: #e74c3c; /* 日曜日色 */
    }
    
    .weekdays div:last-child {
      color: #3498db; /* 土曜日色 */
    }
    
    .calendar-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }
    
    .calendar-day {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 50%;
      font-weight: 500;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.7);
      color: #34495e;
    }
    
    .calendar-day:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .calendar-day.empty {
      background: none;
      cursor: default;
    }
    
    .calendar-day.today {
      background-color: #3498db;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(52, 152, 219, 0.5);
    }
    
    .calendar-day.broadcast-day {
      background-color: #2ecc71;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(46, 204, 113, 0.5);
    }
    
    .calendar-day.message-day {
      background-color: #9b59b6;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(155, 89, 182, 0.5);
    }
    
    .calendar-day.selected {
      background-color: #9b59b6;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(155, 89, 182, 0.5);
      transform: scale(1.1);
    }
    
    .calendar-legend {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 20px;
      display: none;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      display: inline-block;
    }
    
    .broadcast-day {
      background-color: #2ecc71;
    }
    
    .message-day {
      background-color: #9b59b6;
    }
    
    .legend-text {
      font-size: 16px;
      color: #34495e;
    }
    
    /* YouTube-LIVE */
    .youtube-wrapper {
      background: linear-gradient(to bottom, #0f2342 0%, #1e3c72 100%);
      padding: 60px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      position: relative;
      overflow: hidden;
    }
    
    .youtube-wrapper::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 30% 50%, rgba(25, 55, 109, 0.4) 0%, rgba(15, 35, 66, 0) 70%);
      pointer-events: none;
    }
    
    .youtube-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
      color: rgba(255, 255, 255, 0.9);
      position: relative;
      z-index: 2;
    }
    
    .youtube-section h2 {
      color: #d4af37;
      text-align: center;
      margin-bottom: 30px;
      font-weight: bold;
      font-size: 32px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      letter-spacing: 1px;
    }
    
    .youtube-container {
      position: relative;
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
    }
    
    .youtube-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.15);
    }
    
    .youtube-description {
      text-align: center;
      margin-top: 25px;
      font-size: 16px;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.8);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    /* 番組の概要 */
    .program-overview {
      margin-bottom: 40px;
      background-color: #e8f4fd;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    /* 番組情報 */
    .program-info {
      margin-bottom: 40px;
      background-color: #e0f7fa;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      float: none;
    }
    
    /* 週間のハイライト */
    .weekly-highlight {
      margin-bottom: 40px;
      background-color: #fff8e1;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    /* プレゼント */
    .present-section {
      margin-bottom: 40px;
      background-color: #f9fbe7;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    /* 出演者のリアルバイタルデータ */
    .vital-data-section {
      margin: 40px 0;
      background-color: #fce4ec;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* 全体 */
    body {
      font-family: 'Noto Sans JP', sans-serif;
      margin: 0;
      padding: 0;
      color: #333;
      background-color: #f0f2f5;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* セクション共通スタイル */
    .section-wrapper {
      width: 100vw;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      box-sizing: border-box;
    }
    
    .section-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* キャッチコピースタイル */
    .catchcopy-wrapper {
      background: linear-gradient(135deg, #0a1525 0%, #1a3a6c 100%);
      padding: 40px 0;
      width: 100vw;
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
      text-align: center;
      box-sizing: border-box;
      overflow: hidden;
    }
    
    .catchcopy-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* カレンダースタイル */
    .calendar-wrapper {
      background-color: #f8f9fa;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .calendar-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* YouTube-LIVEスタイル */
    .youtube-wrapper {
      background-color: #1a3a6c;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .youtube-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
      color: #ffffff;
    }
    
    .youtube-section h2 {
      color: #d4af37;
      text-align: center;
      margin-bottom: 25px;
      font-weight: bold;
      font-size: 28px;
    }
    
    /* 番組概要スタイル */
    .program-overview-wrapper {
      background-color: #e8f4fd;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .program-overview {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* 番組情報スタイル */
    .program-info-wrapper {
      background-color: #e0f7fa;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .program-info {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* 週間のハイライトスタイル */
    .weekly-highlight-wrapper {
      background-color: #fff8e1;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .weekly-highlight {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* プレゼントスタイル */
    .present-wrapper {
      background-color: #f9fbe7;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .present-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* 出演者のリアルバイタルデータスタイル */
    .vital-data-wrapper {
      background-color: #fce4ec;
      padding: 40px 0;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
    }
    
    .vital-data-section {
      margin: 0 auto;
      max-width: 1200px;
      padding: 0 20px;
    }
    
    /* メッセージ表示のスタイル調整 */
    .love-message {
      font-size: 12px;
      line-height: 1.3;
      margin-top: 5px;
    }
    
    .recipient-name {
      color: #1a3a6c;
      font-weight: bold;
      margin-right: 3px;
    }
    
    .comment-text {
      color: #333;
    }
    
    .author-name {
      color: #666;
      font-style: italic;
      font-size: 11px;
    }
    
    /* ポップアップメッセージのスタイル調整 */
    .message-item {
      padding: 10px;
      border-bottom: 1px solid #eee;
      margin-bottom: 10px;
    }
    
    .message-recipient {
      color: #1a3a6c;
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .message-text {
      color: #333;
      margin-bottom: 5px;
    }
    
    .message-author {
      color: #666;
      font-style: italic;
      text-align: right;
      font-size: 12px;
    }
    
    /* 週間表示のメッセージスタイル調整 */
    .week-day-message {
      font-size: 12px;
      line-height: 1.3;
      margin-top: 5px;
    }
    
    .week-day-message .recipient-name {
      display: block;
      margin-bottom: 2px;
    }
    
    @media (max-width: 768px) {
      .love-message, .week-day-message {
        font-size: 11px;
      }
      
      .author-name {
        font-size: 10px;
      }
    }
    
    /* u30e9u30f3u30adu30f3u30b0u30eau30b9u30c8u3092u53d6u5f97u3057u3066u30bfu30d6u3068u30b3u30f3u30c6u30f3u30c4u3092u751fu6210 */
    .ranking-wrapper {
      padding: 40px 0;
      background-color: #f9f9f9;
    }
    
    .ranking-section {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .ranking-content h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #1a3a6c;
    }
    
    .ranking-tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .ranking-tab-btn {
      padding: 8px 15px;
      background-color: #e0e0e0;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
    }
    
    .ranking-tab-btn.active {
      background-color: #1a3a6c;
      color: white;
    }
    
    .ranking-tab-content {
      display: none;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .ranking-tab-content.active {
      display: block;
    }
    
    .ranking-list {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    
    .ranking-item {
      display: flex;
      align-items: center;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .ranking-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    .ranking-position {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-weight: bold;
      font-size: 16px;
      color: white;
    }
    
    .ranking-position.first {
      background-color: #FFD700; /* 金色 */
    }
    
    .ranking-position.second {
      background-color: #C0C0C0; /* 銀色 */
    }
    
    .ranking-position.third {
      background-color: #CD7F32; /* 銅色 */
    }
    
    .ranking-recipient {
      flex: 1;
      padding-left: 15px;
      font-size: 18px;
    }
    
    /* u30e9u30f3u30adu30f3u30b0u30eau30b9u30c8u3092u53d6u5f97u3057u3066u30bfu30d6u3068u30b3u30f3u30c6u30f3u30c4u3092u751fu6210 */
    #ranking-popup-overlay {
      display: none;
    }
    
    @media (max-width: 768px) {
      .ranking-tabs {
        gap: 5px;
      }
      
      .ranking-tab-btn {
        padding: 6px 10px;
        font-size: 12px;
      }
      
      .ranking-position {
        font-size: 20px;
        width: 30px;
      }
      
      .ranking-recipient {
        font-size: 16px;
      }
      
      .pc-title {
        display: none;
      }
      
      .sp-title {
        display: block;
      }
    }
    
    @media (min-width: 769px) {
      .pc-title {
        display: block;
      }
      
      .sp-title {
        display: none;
      }
    }
  </style>
</head>
<body id="home">
  <!-- ヘッダープレースホルダー -->
  <div id="header-placeholder"></div>
  
  <!-- ヒーローセクション -->
  <div id="hero-section">
    <canvas id="bubble-canvas"></canvas>
    <img src="img/hero.png" alt="ヒーロー画像" class="hero-image">
  </div>
  
  <div id="con-wrap">
    <div id="con-body">
      <div class="wrap">
        <!-- キャッチコピー -->
        <div class="catchcopy-wrapper">
          <h2>毎日が誰かの誕生日☆彡</h2>
          <h3>最もバースデーメッセージが贈られたのは誰なのか♡</h3>
          <h2>『ウィークリー・バースデー・ランキング』</h2>
        </div>

        <!-- カレンダー -->
        <div class="calendar-wrapper">
          <div class="calendar-section">
            <div class="calendar-content">
              <h2><span class="pc-title">バスランカレンダー</span><span class="sp-title">バスラン<br>カレンダー</span></h2>
              
              <!-- タブナビゲーション -->
              <div class="calendar-tabs">
                <button class="tab-btn active" id="week-tab-btn">週間表示</button>
                <button class="tab-btn" id="month-tab-btn">月間表示</button>
              </div>
              
              <!-- 週間表示タブコンテンツ -->
              <div class="tab-content" id="week-tab-content">
                <div class="week-view" style="max-width: 800px; margin: 0 auto;">
                  <div class="calendar-header">
                    <button id="prev-week" class="calendar-nav-btn"><i class="fas fa-chevron-left"></i></button>
                    <h3 id="week-view-title">2025年4月1日～4月7日</h3>
                    <button id="next-week" class="calendar-nav-btn"><i class="fas fa-chevron-right"></i></button>
                  </div>
                  <div class="weekdays">
                    <div>日</div>
                    <div>月</div>
                    <div>火</div>
                    <div>水</div>
                    <div>木</div>
                    <div>金</div>
                    <div>土</div>
                  </div>
                  <div class="week-days" id="week-days">
                    <!-- JavaScriptで動的に生成 -->
                  </div>
                </div>
              </div>
              
              <!-- 月間表示タブコンテンツ -->
              <div class="tab-content" id="month-tab-content">
                <div class="calendar-container">
                  <div class="calendar-header">
                    <button id="prev-month" class="calendar-nav-btn"><i class="fas fa-chevron-left"></i></button>
                    <h3 id="current-month">2025年4月</h3>
                    <button id="next-month" class="calendar-nav-btn"><i class="fas fa-chevron-right"></i></button>
                  </div>
                  <div class="weekdays">
                    <div>日</div>
                    <div>月</div>
                    <div>火</div>
                    <div>水</div>
                    <div>木</div>
                    <div>金</div>
                    <div>土</div>
                  </div>
                  <div id="calendar-days" class="calendar-days">
                    <!-- カレンダーの日付はJavaScriptで動的に生成 -->
                  </div>
                  <div class="calendar-legend">
                    <div class="legend-item">
                      <span class="legend-color broadcast-day"></span>
                      <span class="legend-text">放送日（毎週木曜日）</span>
                    </div>
                    <div class="legend-item">
                      <span class="legend-color message-day"></span>
                      <span class="legend-text">メッセージ募集日</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- カレンダーポップアップ -->
        <div id="message-popup-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 1000;">
          <div style="background-color: #fff; border-radius: 10px; padding: 20px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
            <button id="message-popup-close" style="position: absolute; top: 15px; right: 15px; width: 30px; height: 30px; background: #FF6B88; color: #fff; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">&times;</button>
            <h2 id="message-popup-date" style="text-align: center; margin-bottom: 20px; color: #333; font-size: 18px;"></h2>
            <div id="message-popup-content"></div>
          </div>
        </div>

        <!-- バスラン！デイリーランキングベスト３ -->
        <div class="ranking-wrapper">
          <div class="ranking-section">
            <div class="ranking-content">
              <h2><span class="pc-title">バスラン！デイリーランキングベスト３</span><span class="sp-title">バスラン！<br>デイリーランキング<br>ベスト３</span></h2>
              <h3 id="ranking-week-title" style="text-align: center; margin-bottom: 20px; color: #666; font-size: 16px;"></h3>
              
              <!-- 日付タブナビゲーション -->
              <div class="ranking-tabs" id="ranking-date-tabs">
                <!-- JavaScriptで動的に生成 -->
              </div>
              
              <!-- ランキングコンテンツ -->
              <div class="ranking-tab-contents" id="ranking-tab-contents">
                <!-- JavaScriptで動的に生成 -->
              </div>
            </div>
          </div>
        </div>

        <!-- ランキングポップアップ -->
        <div id="ranking-popup-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 1000;">
          <div style="background-color: #fff; border-radius: 10px; padding: 20px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
            <button id="ranking-popup-close" style="position: absolute; top: 15px; right: 15px; width: 30px; height: 30px; background: #FF6B88; color: #fff; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">&times;</button>
            <h2 id="ranking-popup-date" style="text-align: center; margin-bottom: 20px; color: #333; font-size: 18px;"></h2>
            <div id="ranking-popup-content"></div>
          </div>
        </div>

        <!-- YouTube-LIVE -->
        <div id="youtube-section" class="youtube-wrapper" style="transition: none !important; transform: none !important;">
          <div class="youtube-section" style="transition: none !important; transform: none !important;">
            <h2>YouTube-LIVE</h2>
            <div class="youtube-container" style="transition: none !important; transform: none !important;">
              <div class="youtube-video" style="transition: none !important; transform: none !important;">
                <p style="text-align: center; margin-bottom: 5px; font-weight: bold;">渋谷愛ビジョン</p>
                <iframe width="100%" height="400" src="https://www.youtube.com/embed/six6fVA6Gxo?modestbranding=1&showinfo=0&rel=0" title="【LIVE】渋谷愛ビジョン・宮益坂交差点ライブカメラ／『SHIBUYA AI Vision』Miyamasuzaka-Shibuya" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
              <div class="youtube-video" style="transition: none !important; transform: none !important;">
                <p style="text-align: center; margin-bottom: 5px; font-weight: bold;">渋谷愛ビジョンの眼</p>
                <iframe width="100%" height="400" src="https://www.youtube.com/embed/frp2DX9D3tc?modestbranding=1&showinfo=0&rel=0" title="【LIVE】渋谷愛ビジョン・宮益坂交差点ライブカメラ／SHIBUYA AI Vision" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              </div>
            </div>
            
            <!-- メッセージボタン -->
            <div class="message-button-section" style="background: transparent; box-shadow: none;">
              <div class="message-content">
                <div class="message-text" style="color: #ffffff; text-align: center;">
                  <p style="display: inline-block; padding-bottom: 0px; margin-bottom: 10px;"><strong>大好きな人、大切なひとへ、</strong></p><br>
                  <p style="display: inline-block; padding-bottom: 0px; margin-bottom: 10px;"><strong>おめでとう、ありがとうの</strong></p><br>
                  <p style="display: inline-block; padding-bottom: 0px; margin-bottom: 10px;"><strong>メッセージを贈ろう</strong></p>
                </div>
                <a href="https://ec.saivision.jp/" target="_blank" class="btn-message" style="background-color: #ff4081; color: #ffffff;">メッセージを送る <i class="fas fa-paper-plane"></i></a>
              </div>
            </div>
          </div>
        </div>

        <!-- 番組の概要 -->
        <div class="intro-section-wrapper">
          <div class="container">
            <h2 class="section-title">番組の概要</h2>
            <div class="program-introduction">
              <div class="intro-container">
                <div class="intro-image">
                  <img src="img/about1.jpg" alt="efitプレゼンツ☆ウィークリー・バースデー・ランキング" class="main-image">
                </div>
                <div class="intro-content" style="background-color: white; color: #333; padding: 25px; border-radius: 10px; margin: 0 15px;">
                  <h3 class="intro-title">新しいラジオの形を創造する</h3>
                  <p class="intro-text" style="color: #333;">「efitプレゼンツ☆ウィークリー・バースデー・ランキング」は、ラジオと渋谷愛ビジョンが連動する新しいクロスメディア番組です。毎週木曜日、ラジオ日本神谷町スタジオから生放送でお届けします。</p>
                  <div class="program-details">
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-calendar-alt"></i></span>
                      <span class="detail-text" style="color: #333;">放送開始：2025年4月3日（木曜日）</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-clock"></i></span>
                      <span class="detail-text" style="color: #333;">放送時間：毎週木曜日 18:00～20:30</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-broadcast-tower"></i></span>
                      <span class="detail-text" style="color: #333;">放送局：ラジオ日本</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 次回のゲスト -->
        <div class="full-width-section" style="background-color: #1a3a6c; color: white;">
          <div class="container">
            <h2 class="section-title" style="color: #d4af37;">次回のゲスト</h2>
            <div class="program-introduction">
              <div class="intro-container">
                <div class="intro-image">
                  <img src="img/cast/cast3.jpg" alt="神谷明采" class="main-image">
                </div>
                <div class="intro-content" style="background-color: white; color: #333;">
                  <h3 class="intro-title" style="color: #1a3a6c;">神谷明采</h3>
                  <p class="intro-text" style="color: #333;">東京大学大学院生。知的で洞察力のある視点からのトーク、番組に深みを与えています。</p>
                  <div class="program-details">
                    <div class="detail-item">
                      <span class="detail-icon" style="background-color: rgba(26, 58, 108, 0.2); color: #1a3a6c;"><i class="fas fa-birthday-cake"></i></span>
                      <span class="detail-text" style="color: #333;">誕生日：4月19日</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-icon" style="background-color: rgba(26, 58, 108, 0.2); color: #1a3a6c;"><i class="fas fa-calendar-day"></i></span>
                      <span class="detail-text" style="color: #333;">出演日：4月3日</span>
                    </div>
                  </div>
                  <div style="text-align: center; margin-top: 20px;">
                    <a href="caststaff.html" class="btn-primary" style="background-color: #1a3a6c; border: none; display: inline-block; width: 220px; font-size: 14px;">出演者情報を確認する</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="intro-section-wrapper">
          <div class="container">
            <h2 class="section-title">出演者のリアルバイタルデータ</h2>
            <div class="program-introduction" style="max-width: 1200px; margin: 0 auto;">
              <div class="intro-container">
                <div class="intro-content" style="background-color: white; color: #333; padding: 25px; border-radius: 10px; margin: 0 auto;">
                  <h3 class="intro-title">MOTHER Bracelet</h3>
                  <p class="intro-text" style="color: #333;">MOTHER Braceletは、体温で充電、充電不要で計測可能でバイタルデータを蓄積する健康チェックデバイスです。</p>
                  <div class="program-details">
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-heartbeat"></i></span>
                      <span class="detail-text" style="color: #333;">心拍数、睡眠の質、ストレスレベルなどを計測</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-battery-full"></i></span>
                      <span class="detail-text" style="color: #333;">体温で充電、充電不要で計測可能</span>
                    </div>
                    <div class="detail-item">
                      <span class="detail-icon"><i class="fas fa-chart-line"></i></span>
                      <span class="detail-text" style="color: #333;">健康データを蓄積し、分析</span>
                    </div>
                  </div>
                  <div style="text-align: center; margin-top: 20px;">
                    <a href="news.html" class="btn-primary" style="display: inline-block;">詳細を見る <i class="fas fa-arrow-right"></i></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 誕生日が近い！ゲスト募集中！！ -->
        <div class="intro-section-wrapper" style="background: linear-gradient(135deg, #f0f8ff 0%, #e6f2ff 100%); padding: 60px 0;"> 
          <div class="container">
            <h2 class="section-title" style="color: #1a3a6c; text-align: center; font-size: 32px; margin-bottom: 30px; position: relative; padding: 0 15px;">
              誕生日が近い！ゲスト募集中！！
            </h2>
            <div class="program-introduction" style="max-width: 1000px; margin: 0 auto; padding: 0 15px;">
              <div class="intro-container" style="background-color: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(26, 58, 108, 0.15); overflow: hidden;">
        
                <div class="intro-content" style="padding: 30px;">
                  <p class="intro-text" style="font-size: 18px; text-align: center; color: #333; margin-bottom: 25px; font-weight: 500;">番組では、誕生日が近いゲストを大募集しています。</p>
                  <div class="program-details" style="background-color: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                    <div class="detail-item" style="display: flex; align-items: center; margin-bottom: 15px;">
                      <span class="detail-text" style="font-size: 16px; color: #333;">出演日から１か月以内に誕生日を迎える方</span>
                    </div>
                    <div class="detail-item" style="display: flex; align-items: center;">
                      <span class="detail-text" style="font-size: 16px; color: #333;">バスランでベスト３に入ると自負している方</span>
                    </div>
                  </div>
                  <h4 style="margin-top: 20px; color: #1a3a6c; font-size: 20px; text-align: center; padding-bottom: 10px; border-bottom: 2px solid #d4af37; margin-bottom: 20px;">ゲスト出演してくださった方には、誕生日プレゼントとして</h4>
                  <ol class="present-list" style="padding-left: 20px; margin-bottom: 25px;">
                    <li style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed #e0e0e0;">
                      <strong style="color: #1a3a6c; font-size: 18px; display: block; margin-bottom: 5px;">渋谷愛ビジョンの放映枠</strong>
                      <p style="margin: 0; color: #555; line-height: 1.6;">20時00分30秒～20時5分00秒（4分30秒間）を1週間無償でご提供させていただきます。<br>
                      ミュージックビデオや映画・ドラマのPRはもちろんのこと、自らが発信したい映像を放映して渋谷で注目を浴びましょう。</p>
                    </li>
                    <li style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed #e0e0e0;">
                      <strong style="color: #1a3a6c; font-size: 18px; display: block; margin-bottom: 5px;">MOTHER Bracelet</strong>
                      <p style="margin: 0; color: #555; line-height: 1.6;">体温で充電、充電不要で計測可能でバイタルデータを蓄積するMOTHER　Braceletで健康チェック。</p>
                    </li>
                    <li style="margin-bottom: 15px;">
                      <strong style="color: #1a3a6c; font-size: 18px; display: block; margin-bottom: 5px;">今月のバースデープレゼント</strong>
                      <p style="margin: 0; color: #555; line-height: 1.6;">毎月どんな商品をセレクトするのか！？お楽しみに～。</p>
                    </li>
                  </ol>
                  <p style="margin-top: 15px; text-align: center; font-weight: 500; color: #333; font-size: 16px;">以上、愛が詰まった３つのサービス＆商品をプレゼントさせていただきます。</p>
                  <div style="text-align: center; margin-top: 30px;">
                    <a href="#" class="btn-primary" style="display: inline-block; background: linear-gradient(135deg, #1a3a6c 0%, #0f2a5c 100%); border: none; padding: 15px 30px; font-size: 18px; border-radius: 50px; box-shadow: 0 5px 15px rgba(26, 58, 108, 0.3); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 20px rgba(26, 58, 108, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 5px 15px rgba(26, 58, 108, 0.3)'">応募する <i class="fas fa-arrow-right"></i></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- フッター -->
  <div id="footer-placeholder"></div>

  <script>
    // 現在の日付を取得
    let currentYear = new Date().getFullYear();
    let currentMonth = new Date().getMonth();
    let selectedDate = new Date();
    let today = new Date();
    
    // 週間表示用のグローバル変数
    let currentWeekStart = new Date();
    currentWeekStart.setDate(currentWeekStart.getDate() - currentWeekStart.getDay()); // 週の開始日を日曜日に設定
    
    let currentWeekEnd = new Date(currentWeekStart);
    currentWeekEnd.setDate(currentWeekStart.getDate() + 6); // 週の終了日
    
    // ドキュメントが読み込まれたとき
    $(document).ready(function() {
      console.log('Document ready event fired');
      
      // Supabaseクライアントを初期化
      const SUPABASE_URL = 'https://cdpthzwwczpwlypadhbz.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkcHRoend3Y3pwd2x5cGFkaGJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3ODc2NzYsImV4cCI6MjA1ODM2MzY3Nn0.woIzlcCR94Niz-WelVqmweSPFqUlTmONrqxTrXl4_z0';
      window.supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
      
      // ボタンやタブの表示を確認する
      console.log('Calendar tabs:', $('#week-tab-btn').length, $('#month-tab-btn').length);
      console.log('Calendar containers:', $('#week-tab-content').length, $('#month-tab-content').length);
      console.log('Calendar days container:', $('#calendar-days').length);
      
      // バブルアニメーションを初期化
      initBubbles();
      
      // カレンダーを初期化
      initCalendar();
      
      // デイリーランキングを初期化
      initDailyRanking();
      
      // ポップアップを閉じるボタン
      $("#message-popup-close").click(function() {
        $("#message-popup-overlay").css("display", "none");
      });
      
      $("#message-popup-overlay").click(function(e) {
        if (e.target === this) {
          $(this).css("display", "none");
        }
      });
      
      $("#ranking-popup-close").click(function() {
        $("#ranking-popup-overlay").css("display", "none");
      });
      
      $("#ranking-popup-overlay").click(function(e) {
        if (e.target === this) {
          $(this).css("display", "none");
        }
      });
    });
    
  </script>
  <script src="js/header.js"></script>
  <script src="js/script.js"></script>
  <script src="js/calendar.js"></script>
  <script src="js/animation.js"></script>
  <script src="js/footer.js"></script>
</body>
</html>
